(function(j){j.plot.plugins.push({init:function(d){var g=!1,h=!1,e=[0,0],i=[0,0],f=Infinity,k=null;d.hooks.bindEvents.push(function(c){if(!1!==c.getOptions().touch.enabled){var d=c.getPlaceholder();d.bind("touchstart",function(a){var a=a.originalEvent.touches,b=c.offset();1===a.length?(g=!0,i=[a[0].pageX,a[0].pageY],e=[a[0].pageX-b.left,a[0].pageY-b.top]):2===a.length&&(h=!0,e=[(a[1].pageX+a[0].pageX)/2-b.left,(a[1].pageY+a[0].pageY)/2-b.top],b=a[1].pageX-a[0].pageX,a=a[1].pageY-a[0].pageY,f=Math.sqrt(b*
b+a*a));return!1});d.bind("touchmove",function(a){var b=a.originalEvent.touches;g&&1===b.length?(a=[b[0].pageX,b[0].pageY],c.pan({left:i[0]-a[0],top:i[1]-a[1]}),i=a):h&&2===b.length&&(a=b[1].pageX-b[0].pageX,b=b[1].pageY-b[0].pageY,a=Math.sqrt(a*a+b*b),c.zoom({amount:1+(a-f)/f,center:{left:e[0],top:e[1]}}),f=a);return!1});d.bind("touchend",function(a){var b=a.originalEvent.touches;g?(a=(new Date).getTime(),b=a-(k||a+1),500>b&&0<b&&c.zoom({center:{left:e[0],top:e[1]}}),k=null!==k?null:a):h&&(a=b[1].pageX-
b[0].pageX,b=b[1].pageY-b[0].pageY,a=Math.sqrt(a*a+b*b),b=(a-f)/f,f=a,c.zoom({amount:b,center:{left:e[0],top:e[1]}}));return h=g=!1})}});d.hooks.shutdown.push(function(c){!1!==c.getOptions().touch.enabled&&c.getPlaceholder().unbind("touchstart").unbind("touchmove").unbind("touchend")});j(document).bind("ready orientationchange",function(){window.scrollTo(0,1);setTimeout(function(){j.plot(placeholder,d.getData(),d.getOptions())},50)})},options:{touch:{enabled:!0}},name:"touch",version:"1.0"})})(jQuery);
